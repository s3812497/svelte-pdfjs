import{_ as y}from"./preload-helper-aa6bc0ce.js";import{S as E,i as L,s as R,B as W,C as j,D as q,E as F,f as w,t as k,G as b,O as I,P as N,Q as C,R as v,T as P,e as p,b as S,U as B,h as A,V as H,A as c,v as V,w as Q,x as D,g as U,y as T,d as z}from"./index-ca1e3c02.js";import{w as J}from"./index-8bf626d4.js";import{P as K,p as M}from"./worker-bf49efb2.js";function X(i){let e;const r=i[5].default,s=W(r,i,i[4],null);return{c(){s&&s.c()},l(t){s&&s.l(t)},m(t,a){s&&s.m(t,a),e=!0},p(t,[a]){s&&s.p&&(!e||a&16)&&j(s,r,t,t[4],e?F(r,t[4],a,null):q(t[4]),null)},i(t){e||(w(s,t),e=!0)},o(t){k(s,t),e=!1},d(t){s&&s.d(t)}}}const G=Symbol.for("current_doc");function Y(i,e,r){let s,t;b(i,K,o=>r(7,s=o));let{$$slots:a={},$$scope:n}=e;const l=I();let{file:_=void 0}=e,{loadOptions:f=void 0}=e,{onProgress:m=void 0}=e,u=J();b(i,u,o=>r(8,t=o));let d;N(G,u),C(()=>{t==null||t.destroy(),t==null||t.cleanup(!1)});function h(){const o=t;u.set(null),d=M.exports.getDocument({url:_,worker:s,...f}),d.onProgress=m,d.promise.then(g=>(o==null||o.destroy(),o==null||o.cleanup(),l("loadsuccess",g),g),g=>(l("loaderror",g),o)).then(u.set)}return i.$$set=o=>{"file"in o&&r(1,_=o.file),"loadOptions"in o&&r(2,f=o.loadOptions),"onProgress"in o&&r(3,m=o.onProgress),"$$scope"in o&&r(4,n=o.$$scope)},i.$$.update=()=>{i.$$.dirty&6&&h()},[u,_,f,m,n,a]}class se extends E{constructor(e){super(),L(this,e,Y,X,R,{file:1,loadOptions:2,onProgress:3})}}function O(i){i[11]=i[12].default}function Z(i){return{c,l:c,m:c,p:c,i:c,o:c,d:c}}function x(i){O(i);let e,r,s;var t=i[11];function a(n){return{props:{page:n[2],viewport:n[3],render_text_layer:n[0]==="canvas"?n[1]:void 0}}}return t&&(e=new t(a(i))),{c(){e&&V(e.$$.fragment),r=p()},l(n){e&&Q(e.$$.fragment,n),r=p()},m(n,l){e&&D(e,n,l),S(n,r,l),s=!0},p(n,l){O(n);const _={};if(l&4&&(_.page=n[2]),l&8&&(_.viewport=n[3]),l&3&&(_.render_text_layer=n[0]==="canvas"?n[1]:void 0),t!==(t=n[11])){if(e){U();const f=e;k(f.$$.fragment,1,0,()=>{T(f,1)}),z()}t?(e=new t(a(n)),V(e.$$.fragment),w(e.$$.fragment,1),D(e,r.parentNode,r)):e=null}else t&&e.$set(_)},i(n){s||(e&&w(e.$$.fragment,n),s=!0)},o(n){e&&k(e.$$.fragment,n),s=!1},d(n){n&&A(r),e&&T(e,n)}}}function $(i){return{c,l:c,m:c,p:c,i:c,o:c,d:c}}function ee(i){let e,r,s,t={ctx:i,current:null,token:null,hasCatch:!1,pending:$,then:x,catch:Z,value:12,blocks:[,,,]};return P(r=i[0]==="canvas"?y(()=>import("./PageCanvas-11481458.js"),["PageCanvas-11481458.js","../assets/PageCanvas-239a3f11.css","index-ca1e3c02.js","worker-bf49efb2.js","index-8bf626d4.js"],import.meta.url):Promise.reject("SVG rendering not implemented yet."),t),{c(){e=p(),t.block.c()},l(a){e=p(),t.block.l(a)},m(a,n){S(a,e,n),t.block.m(a,t.anchor=n),t.mount=()=>e.parentNode,t.anchor=e,s=!0},p(a,[n]){i=a,t.ctx=i,n&1&&r!==(r=i[0]==="canvas"?y(()=>import("./PageCanvas-11481458.js"),["PageCanvas-11481458.js","../assets/PageCanvas-239a3f11.css","index-ca1e3c02.js","worker-bf49efb2.js","index-8bf626d4.js"],import.meta.url):Promise.reject("SVG rendering not implemented yet."))&&P(r,t)||B(t,i,n)},i(a){s||(w(t.block),s=!0)},o(a){for(let n=0;n<3;n+=1){const l=t.blocks[n];k(l)}s=!1},d(a){a&&A(e),t.block.d(a),t.token=null,t=null}}}function te(i,e,r){let s,{renderer:t="canvas"}=e,{num:a}=e,{scale:n=1}=e,{rotation:l=0}=e,{renderTextLayer:_=!1}=e,{getViewport:f=void 0}=e;C(()=>u==null?void 0:u.cleanup());const m=H(G);b(i,m,o=>r(10,s=o));let u,d,h;return i.$$set=o=>{"renderer"in o&&r(0,t=o.renderer),"num"in o&&r(5,a=o.num),"scale"in o&&r(6,n=o.scale),"rotation"in o&&r(7,l=o.rotation),"renderTextLayer"in o&&r(1,_=o.renderTextLayer),"getViewport"in o&&r(8,f=o.getViewport)},i.$$.update=()=>{i.$$.dirty&1056&&(s==null||s.getPage(a).then(o=>r(2,u=o))),i.$$.dirty&320&&r(9,h=f!=null?f:(o,g)=>o.getViewport({scale:n,rotation:g})),i.$$.dirty&644&&u&&r(3,d=h(u,l))},[t,_,u,d,m,a,n,l,f,h,s]}class ae extends E{constructor(e){super(),L(this,e,te,ee,v,{renderer:0,num:5,scale:6,rotation:7,renderTextLayer:1,getViewport:8})}}function le(i){return(e,r=0)=>{const s=e.getViewport({scale:1,rotation:r}).width;return e.getViewport({scale:i/s,rotation:r})}}function ce(i){return(e,r=0)=>{const s=e.getViewport({scale:1,rotation:r}).height;return e.getViewport({scale:i/s,rotation:r})}}export{se as D,ae as P,le as a,ce as p};
