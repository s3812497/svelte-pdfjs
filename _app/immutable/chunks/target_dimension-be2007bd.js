import{S as E,i as L,s as A,D as G,E as I,F as R,G as q,f as w,t as p,Q as N,R as O,I as j,B,C as v,T as F,U as k,e as b,b as C,V as H,h as S,A as c,v as y,w as Q,x as P,g as U,y as V,d as W}from"./index-3c65119e.js";import{w as z}from"./paths-4c88341d.js";import{p as J}from"./pdf-6bff0be4.js";import{_ as T}from"./preload-helper-aa6bc0ce.js";function K(s){let e;const o=s[5].default,n=G(o,s,s[4],null);return{c(){n&&n.c()},l(t){n&&n.l(t)},m(t,a){n&&n.m(t,a),e=!0},p(t,[a]){n&&n.p&&(!e||a&16)&&I(n,o,t,t[4],e?q(o,t[4],a,null):R(t[4]),null)},i(t){e||(w(n,t),e=!0)},o(t){p(n,t),e=!1},d(t){n&&n.d(t)}}}function M(s,e,o){let n,{$$slots:t={},$$scope:a}=e;const r=N();let{file:l=void 0}=e,{loadOptions:_=void 0}=e,{onProgress:u=void 0}=e;const h=O("svelte_pdfjs_worker");let f=z();j(s,f,i=>o(7,n=i));let m;B("svelte_pdfjs_doc",f),v(()=>{n==null||n.destroy(),n==null||n.cleanup(!1)});function g(){const i=n;f.set(null),m=J.exports.getDocument({url:l,worker:h,..._}),m.onProgress=u,m.promise.then(d=>(i==null||i.destroy(),i==null||i.cleanup(),r("loadsuccess",d),d),d=>(r("loaderror",d),i)).then(f.set)}return s.$$set=i=>{"file"in i&&o(1,l=i.file),"loadOptions"in i&&o(2,_=i.loadOptions),"onProgress"in i&&o(3,u=i.onProgress),"$$scope"in i&&o(4,a=i.$$scope)},s.$$.update=()=>{s.$$.dirty&6&&g()},[f,l,_,u,a,t]}class oe extends E{constructor(e){super(),L(this,e,M,K,A,{file:1,loadOptions:2,onProgress:3})}}function D(s){s[11]=s[12].default}function X(s){return{c,l:c,m:c,p:c,i:c,o:c,d:c}}function Y(s){D(s);let e,o,n;var t=s[11];function a(r){return{props:{page:r[2],viewport:r[3],render_text_layer:r[0]==="canvas"?r[1]:!1}}}return t&&(e=new t(a(s))),{c(){e&&y(e.$$.fragment),o=b()},l(r){e&&Q(e.$$.fragment,r),o=b()},m(r,l){e&&P(e,r,l),C(r,o,l),n=!0},p(r,l){D(r);const _={};if(l&4&&(_.page=r[2]),l&8&&(_.viewport=r[3]),l&3&&(_.render_text_layer=r[0]==="canvas"?r[1]:!1),t!==(t=r[11])){if(e){U();const u=e;p(u.$$.fragment,1,0,()=>{V(u,1)}),W()}t?(e=new t(a(r)),y(e.$$.fragment),w(e.$$.fragment,1),P(e,o.parentNode,o)):e=null}else t&&e.$set(_)},i(r){n||(e&&w(e.$$.fragment,r),n=!0)},o(r){e&&p(e.$$.fragment,r),n=!1},d(r){r&&S(o),e&&V(e,r)}}}function Z(s){return{c,l:c,m:c,p:c,i:c,o:c,d:c}}function x(s){let e,o,n,t={ctx:s,current:null,token:null,hasCatch:!1,pending:Z,then:Y,catch:X,value:12,blocks:[,,,]};return k(o=s[0]==="canvas"?T(()=>import("./PageCanvas-4bd3cb93.js"),["PageCanvas-4bd3cb93.js","../assets/PageCanvas-239a3f11.css","index-3c65119e.js","pdf-6bff0be4.js"],import.meta.url):Promise.reject("SVG rendering not implemented yet."),t),{c(){e=b(),t.block.c()},l(a){e=b(),t.block.l(a)},m(a,r){C(a,e,r),t.block.m(a,t.anchor=r),t.mount=()=>e.parentNode,t.anchor=e,n=!0},p(a,[r]){s=a,t.ctx=s,r&1&&o!==(o=s[0]==="canvas"?T(()=>import("./PageCanvas-4bd3cb93.js"),["PageCanvas-4bd3cb93.js","../assets/PageCanvas-239a3f11.css","index-3c65119e.js","pdf-6bff0be4.js"],import.meta.url):Promise.reject("SVG rendering not implemented yet."))&&k(o,t)||H(t,s,r)},i(a){n||(w(t.block),n=!0)},o(a){for(let r=0;r<3;r+=1){const l=t.blocks[r];p(l)}n=!1},d(a){a&&S(e),t.block.d(a),t.token=null,t=null}}}function $(s,e,o){let n,{renderer:t="canvas"}=e,{num:a}=e,{scale:r=1}=e,{rotation:l=0}=e,{renderTextLayer:_=!1}=e,{getViewport:u=void 0}=e;v(()=>f==null?void 0:f.cleanup());const h=O("svelte_pdfjs_doc");j(s,h,i=>o(10,n=i));let f,m,g;return s.$$set=i=>{"renderer"in i&&o(0,t=i.renderer),"num"in i&&o(5,a=i.num),"scale"in i&&o(6,r=i.scale),"rotation"in i&&o(7,l=i.rotation),"renderTextLayer"in i&&o(1,_=i.renderTextLayer),"getViewport"in i&&o(8,u=i.getViewport)},s.$$.update=()=>{s.$$.dirty&1056&&(n==null||n.getPage(a).then(i=>o(2,f=i))),s.$$.dirty&320&&o(9,g=u!=null?u:(i,d)=>i.getViewport({scale:r,rotation:d})),s.$$.dirty&644&&f&&o(3,m=g(f,l))},[t,_,f,m,h,a,r,l,u,g,n]}class se extends E{constructor(e){super(),L(this,e,$,x,F,{renderer:0,num:5,scale:6,rotation:7,renderTextLayer:1,getViewport:8})}}function ie(s){return(e,o=0)=>{const n=e.getViewport({scale:1,rotation:o}).width;return e.getViewport({scale:s/n,rotation:o})}}function ae(s){return(e,o=0)=>{const n=e.getViewport({scale:1,rotation:o}).height;return e.getViewport({scale:s/n,rotation:o})}}export{oe as D,se as P,ie as a,ae as p};
