import{S as E,i as L,s as R,E as q,F as A,G as H,H as I,f as p,t as w,R as N,T as O,J as j,C as W,D as C,U as z,V as k,e as b,b as S,W as B,h as G,B as c,v as y,w as V,x as F,y as P,g as J,z as v,d as U}from"./index-a6950131.js";import{w as K}from"./paths-78c5b0f1.js";import{p as M}from"./pdf-82c22202.js";import{_ as T}from"./preload-helper-41c905a7.js";function Q(s){let e;const o=s[5].default,n=q(o,s,s[4],null);return{c(){n&&n.c()},l(t){n&&n.l(t)},m(t,a){n&&n.m(t,a),e=!0},p(t,[a]){n&&n.p&&(!e||a&16)&&A(n,o,t,t[4],e?I(o,t[4],a,null):H(t[4]),null)},i(t){e||(p(n,t),e=!0)},o(t){w(n,t),e=!1},d(t){n&&n.d(t)}}}function X(s,e,o){let n,{$$slots:t={},$$scope:a}=e;const r=N();let{file:l=void 0}=e,{loadOptions:f=void 0}=e,{onProgress:_=void 0}=e;const h=O("svelte_pdfjs_worker");let u=K();j(s,u,i=>o(7,n=i));let m;W("svelte_pdfjs_doc",u),C(()=>{n==null||n.destroy(),n==null||n.cleanup(!1)});function g(){const i=n;u.set(null),m=M.exports.getDocument({url:l,worker:h,...f}),m.onProgress=_,m.promise.then(d=>(i==null||i.destroy(),i==null||i.cleanup(),r("loadsuccess",d),d),d=>(r("loaderror",d),i)).then(u.set)}return s.$$set=i=>{"file"in i&&o(1,l=i.file),"loadOptions"in i&&o(2,f=i.loadOptions),"onProgress"in i&&o(3,_=i.onProgress),"$$scope"in i&&o(4,a=i.$$scope)},s.$$.update=()=>{s.$$.dirty&6&&g()},[u,l,f,_,a,t]}class se extends E{constructor(e){super(),L(this,e,X,Q,R,{file:1,loadOptions:2,onProgress:3})}}function D(s){s[11]=s[12].default}function Y(s){return{c,l:c,m:c,p:c,i:c,o:c,d:c}}function Z(s){D(s);let e,o,n;var t=s[11];function a(r){return{props:{page:r[2],viewport:r[3],render_text_layer:r[0]==="canvas"?r[1]:!1}}}return t&&(e=y(t,a(s))),{c(){e&&V(e.$$.fragment),o=b()},l(r){e&&F(e.$$.fragment,r),o=b()},m(r,l){e&&P(e,r,l),S(r,o,l),n=!0},p(r,l){D(r);const f={};if(l&4&&(f.page=r[2]),l&8&&(f.viewport=r[3]),l&3&&(f.render_text_layer=r[0]==="canvas"?r[1]:!1),t!==(t=r[11])){if(e){J();const _=e;w(_.$$.fragment,1,0,()=>{v(_,1)}),U()}t?(e=y(t,a(r)),V(e.$$.fragment),p(e.$$.fragment,1),P(e,o.parentNode,o)):e=null}else t&&e.$set(f)},i(r){n||(e&&p(e.$$.fragment,r),n=!0)},o(r){e&&w(e.$$.fragment,r),n=!1},d(r){r&&G(o),e&&v(e,r)}}}function x(s){return{c,l:c,m:c,p:c,i:c,o:c,d:c}}function $(s){let e,o,n,t={ctx:s,current:null,token:null,hasCatch:!1,pending:x,then:Z,catch:Y,value:12,blocks:[,,,]};return k(o=s[0]==="canvas"?T(()=>import("./PageCanvas-a69ce38d.js"),["./PageCanvas-a69ce38d.js","./index-a6950131.js","./pdf-82c22202.js","../assets/PageCanvas-239a3f11.css"],import.meta.url):Promise.reject("SVG rendering not implemented yet."),t),{c(){e=b(),t.block.c()},l(a){e=b(),t.block.l(a)},m(a,r){S(a,e,r),t.block.m(a,t.anchor=r),t.mount=()=>e.parentNode,t.anchor=e,n=!0},p(a,[r]){s=a,t.ctx=s,r&1&&o!==(o=s[0]==="canvas"?T(()=>import("./PageCanvas-a69ce38d.js"),["./PageCanvas-a69ce38d.js","./index-a6950131.js","./pdf-82c22202.js","../assets/PageCanvas-239a3f11.css"],import.meta.url):Promise.reject("SVG rendering not implemented yet."))&&k(o,t)||B(t,s,r)},i(a){n||(p(t.block),n=!0)},o(a){for(let r=0;r<3;r+=1){const l=t.blocks[r];w(l)}n=!1},d(a){a&&G(e),t.block.d(a),t.token=null,t=null}}}function ee(s,e,o){let n,{renderer:t="canvas"}=e,{num:a}=e,{scale:r=1}=e,{rotation:l=0}=e,{renderTextLayer:f=!1}=e,{getViewport:_=void 0}=e;C(()=>u==null?void 0:u.cleanup());const h=O("svelte_pdfjs_doc");j(s,h,i=>o(10,n=i));let u,m,g;return s.$$set=i=>{"renderer"in i&&o(0,t=i.renderer),"num"in i&&o(5,a=i.num),"scale"in i&&o(6,r=i.scale),"rotation"in i&&o(7,l=i.rotation),"renderTextLayer"in i&&o(1,f=i.renderTextLayer),"getViewport"in i&&o(8,_=i.getViewport)},s.$$.update=()=>{s.$$.dirty&1056&&(n==null||n.getPage(a).then(i=>o(2,u=i))),s.$$.dirty&320&&o(9,g=_??((i,d)=>i.getViewport({scale:r,rotation:d}))),s.$$.dirty&644&&u&&o(3,m=g(u,l))},[t,f,u,m,h,a,r,l,_,g,n]}class ie extends E{constructor(e){super(),L(this,e,ee,$,z,{renderer:0,num:5,scale:6,rotation:7,renderTextLayer:1,getViewport:8})}}function ae(s){return(e,o=0)=>{const n=e.getViewport({scale:1,rotation:o}).width;return e.getViewport({scale:s/n,rotation:o})}}function le(s){return(e,o=0)=>{const n=e.getViewport({scale:1,rotation:o}).height;return e.getViewport({scale:s/n,rotation:o})}}export{se as D,ie as P,ae as a,le as p};
