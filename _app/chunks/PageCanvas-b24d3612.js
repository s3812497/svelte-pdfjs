import{S,i as x,s as E,e as v,c as m,a as w,d as u,b as h,g as L,K as p,$ as P,P as V,w as q,x as A,y as D,q as d,o as y,B as I,k as B,m as J,f as g,J as T,n as K,p as N}from"./vendor-922fb0b3.js";function R(s){let e;return{c(){e=v("div"),this.h()},l(t){e=m(t,"DIV",{class:!0}),w(e).forEach(u),this.h()},h(){h(e,"class","svelte-b48waw")},m(t,n){L(t,e,n),s[3](e)},p,i:p,o:p,d(t){t&&u(e),s[3](null)}}}function j(s,e,t){let{page:n}=e,{viewport:o}=e,f,l;function a(){for(f==null||f.cancel();l.firstChild;)l.firstChild.remove();f=V.exports.renderTextLayer({container:l,textContentStream:n.streamTextContent(),viewport:o})}function r(i){P[i?"unshift":"push"](()=>{l=i,t(0,l)})}return s.$$set=i=>{"page"in i&&t(1,n=i.page),"viewport"in i&&t(2,o=i.viewport)},s.$$.update=()=>{s.$$.dirty&5&&l&&o&&a()},[l,n,o,r]}class z extends S{constructor(e){super();x(this,e,j,R,E,{page:1,viewport:2})}}function k(s){let e,t;return e=new z({props:{page:s[0],viewport:s[1]}}),{c(){q(e.$$.fragment)},l(n){A(e.$$.fragment,n)},m(n,o){D(e,n,o),t=!0},p(n,o){const f={};o&1&&(f.page=n[0]),o&2&&(f.viewport=n[1]),e.$set(f)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){y(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function F(s){let e,t,n,o,f,l,a=s[2]&&k(s);return{c(){e=v("div"),t=v("canvas"),f=B(),a&&a.c(),this.h()},l(r){e=m(r,"DIV",{class:!0});var i=w(e);t=m(i,"CANVAS",{width:!0,height:!0,class:!0}),w(t).forEach(u),f=J(i),a&&a.l(i),i.forEach(u),this.h()},h(){var r,i,c,_;h(t,"width",n=(r=s[1])==null?void 0:r.width),h(t,"height",o=(i=s[1])==null?void 0:i.height),h(t,"class","svelte-1r8uw27"),h(e,"class","svelte-1r8uw27"),g(e,"--spw",(c=s[1])==null?void 0:c.width,!1),g(e,"--sph",(_=s[1])==null?void 0:_.height,!1)},m(r,i){L(r,e,i),T(e,t),s[4](t),T(e,f),a&&a.m(e,null),l=!0},p(r,[i]){var c,_,C,b;(!l||i&2&&n!==(n=(c=r[1])==null?void 0:c.width))&&h(t,"width",n),(!l||i&2&&o!==(o=(_=r[1])==null?void 0:_.height))&&h(t,"height",o),r[2]?a?(a.p(r,i),i&4&&d(a,1)):(a=k(r),a.c(),d(a,1),a.m(e,null)):a&&(K(),y(a,1,1,()=>{a=null}),N()),i&2&&g(e,"--spw",(C=r[1])==null?void 0:C.width,!1),i&2&&g(e,"--sph",(b=r[1])==null?void 0:b.height,!1)},i(r){l||(d(a),l=!0)},o(r){y(a),l=!1},d(r){r&&u(e),s[4](null),a&&a.d()}}}function G(s,e,t){let{page:n}=e,{viewport:o}=e,{render_text_layer:f}=e,l,a;function r(){a!=null&&a._internalRenderTask.running&&a.cancel(),a=n.render({canvasContext:l.getContext("2d"),viewport:o})}function i(c){P[c?"unshift":"push"](()=>{l=c,t(3,l)})}return s.$$set=c=>{"page"in c&&t(0,n=c.page),"viewport"in c&&t(1,o=c.viewport),"render_text_layer"in c&&t(2,f=c.render_text_layer)},s.$$.update=()=>{s.$$.dirty&10&&o&&l&&r()},[n,o,f,l,i]}class M extends S{constructor(e){super();x(this,e,G,F,E,{page:0,viewport:1,render_text_layer:2})}}export{M as default};
